from docutils import nodes
from sphinx.util.docutils import SphinxDirective

def insert_sibling_list(app, doctree, fromdocname):
    if app.builder.name == 'html':
        sibling_list = app.config.sibling_list
        paragraph_node = nodes.paragraph(text=sibling_list)
        div_node = nodes.container(classes=['sibling_list'])
        div_node += paragraph_node
        doctree.insert(0, div_node)

def setup(app):
    app.add_config_value('sibling_list, '', 'html')
    app.connect('doctree-resolved', insert_sibling_list)
